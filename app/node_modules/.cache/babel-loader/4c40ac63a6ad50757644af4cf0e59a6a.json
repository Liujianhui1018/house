{"ast":null,"code":"import { put, takeEvery } from 'redux-saga/effects'; // import { type } from 'os';\n//查\n\nfunction* selects() {\n  let res = yield fetch('http://localhost:8070/select');\n  console.log(res);\n  let data = yield res.json();\n\n  for (let i in data) {\n    data[i].key = data[i]._id;\n  }\n\n  console.log(data);\n  yield put({\n    type: 'fetch',\n    payload: data\n  });\n} //删\n\n\nfunction* deletes(action) {\n  let data = action.payload;\n  yield fetch('http://localhost:8070/delete', {\n    method: 'POST',\n    body: JSON.stringify(data)\n  });\n  yield put({\n    type: 'delete',\n    payload: data\n  });\n} //搜索\n\n\nfunction* searchs(action) {\n  let data = action.payload;\n  let res = yield fetch('http://localhost:8070/search', {\n    method: 'POST',\n    body: JSON.stringify(data)\n  });\n  let datas = yield res.json();\n  yield put({\n    type: 'search',\n    payload: datas\n  });\n} //增加\n\n\nfunction* adds(action) {\n  let data = action.payload;\n  yield fetch('http://localhost:8070/add', {\n    method: 'POST',\n    body: JSON.stringify(data)\n  });\n}\n\nfunction* mySaga() {\n  yield takeEvery(\"selects\", selects);\n  yield takeEvery(\"searchs\", searchs);\n  yield takeEvery(\"add\", adds);\n  yield takeEvery(\"del\", deletes);\n}\n\nexport default mySaga;","map":{"version":3,"sources":["/home/duo/桌面/app/src/saga/index.js"],"names":["put","takeEvery","selects","res","fetch","console","log","data","json","i","key","_id","type","payload","deletes","action","method","body","JSON","stringify","searchs","datas","adds","mySaga"],"mappings":"AAAA,SAASA,GAAT,EAAcC,SAAd,QAA8B,oBAA9B,C,CACA;AAEA;;AACA,UAAUC,OAAV,GAAmB;AAChB,MAAIC,GAAG,GAAI,MAAMC,KAAK,CAAC,8BAAD,CAAtB;AAECC,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AAEA,MAAII,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAjB;;AAEA,OAAI,IAAIC,CAAR,IAAaF,IAAb,EAAkB;AACdA,IAAAA,IAAI,CAACE,CAAD,CAAJ,CAAQC,GAAR,GAAYH,IAAI,CAACE,CAAD,CAAJ,CAAQE,GAApB;AACH;;AAEDN,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AAGA,QAAMP,GAAG,CAAC;AAACY,IAAAA,IAAI,EAAC,OAAN;AAAcC,IAAAA,OAAO,EAACN;AAAtB,GAAD,CAAT;AACH,C,CAED;;;AACA,UAAUO,OAAV,CAAkBC,MAAlB,EAAyB;AACrB,MAAIR,IAAI,GAAGQ,MAAM,CAACF,OAAlB;AACA,QAAMT,KAAK,CAAC,8BAAD,EAAgC;AACvCY,IAAAA,MAAM,EAAC,MADgC;AAEvCC,IAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAeZ,IAAf;AAFkC,GAAhC,CAAX;AAIA,QAAMP,GAAG,CAAC;AAACY,IAAAA,IAAI,EAAC,QAAN;AAAeC,IAAAA,OAAO,EAACN;AAAvB,GAAD,CAAT;AACF,C,CAED;;;AACD,UAAUa,OAAV,CAAkBL,MAAlB,EAAyB;AACrB,MAAIR,IAAI,GAAGQ,MAAM,CAACF,OAAlB;AACA,MAAIV,GAAG,GAAI,MAAMC,KAAK,CAAC,8BAAD,EAAgC;AAClDY,IAAAA,MAAM,EAAC,MAD2C;AAElDC,IAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAeZ,IAAf;AAF6C,GAAhC,CAAtB;AAKA,MAAIc,KAAK,GAAG,MAAMlB,GAAG,CAACK,IAAJ,EAAlB;AACA,QAAMR,GAAG,CAAC;AAACY,IAAAA,IAAI,EAAC,QAAN;AAAeC,IAAAA,OAAO,EAACQ;AAAvB,GAAD,CAAT;AACH,C,CAED;;;AACA,UAAUC,IAAV,CAAeP,MAAf,EAAsB;AAClB,MAAIR,IAAI,GAAGQ,MAAM,CAACF,OAAlB;AACA,QAAMT,KAAK,CAAC,2BAAD,EAA6B;AACpCY,IAAAA,MAAM,EAAC,MAD6B;AAEpCC,IAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAeZ,IAAf;AAF+B,GAA7B,CAAX;AAIH;;AAED,UAAUgB,MAAV,GAAmB;AACf,QAAMtB,SAAS,CAAC,SAAD,EAAYC,OAAZ,CAAf;AACA,QAAMD,SAAS,CAAC,SAAD,EAAYmB,OAAZ,CAAf;AACA,QAAMnB,SAAS,CAAC,KAAD,EAAQqB,IAAR,CAAf;AACA,QAAMrB,SAAS,CAAC,KAAD,EAAQa,OAAR,CAAf;AACH;;AAED,eAAeS,MAAf","sourcesContent":["import { put, takeEvery} from 'redux-saga/effects';\n// import { type } from 'os';\n\n//查\nfunction* selects(){\n   let res =  yield fetch('http://localhost:8070/select')\n\n    console.log(res)\n\n    let data = yield res.json();\n\n    for(let i in data){\n        data[i].key=data[i]._id\n    }\n\n    console.log(data)\n\n\n    yield put({type:'fetch',payload:data})\n}\n\n//删\nfunction* deletes(action){\n    let data = action.payload\n    yield fetch('http://localhost:8070/delete',{\n        method:'POST',\n        body:JSON.stringify(data)\n    })\n    yield put({type:'delete',payload:data})\n }\n\n //搜索\nfunction* searchs(action){\n    let data = action.payload\n    let res =  yield fetch('http://localhost:8070/search',{\n        method:'POST',\n        body:JSON.stringify(data)\n    })\n\n    let datas = yield res.json();\n    yield put({type:'search',payload:datas})\n}\n\n//增加\nfunction* adds(action){\n    let data = action.payload\n    yield fetch('http://localhost:8070/add',{\n        method:'POST',\n        body:JSON.stringify(data)\n    })\n}\n\nfunction* mySaga() {\n    yield takeEvery(\"selects\", selects);\n    yield takeEvery(\"searchs\", searchs);\n    yield takeEvery(\"add\", adds);\n    yield takeEvery(\"del\", deletes);\n}\n  \nexport default mySaga;"]},"metadata":{},"sourceType":"module"}