{"ast":null,"code":"import _defineProperty from \"/home/rao/React/app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"/home/rao/React/app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/rao/React/app/src/zhujian/Table.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport { Table, Input, Button, Popconfirm, Form, Icon, Spin, Modal } from 'antd';\nimport Highlighter from 'react-highlight-words';\nimport 'antd/dist/antd.css';\nconst EditableContext = React.createContext();\n\nconst EditableRow = (_ref) => {\n  let form = _ref.form,\n      index = _ref.index,\n      props = _objectWithoutProperties(_ref, [\"form\", \"index\"]);\n\n  return React.createElement(EditableContext.Provider, {\n    value: form,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, React.createElement(\"tr\", Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  })));\n};\n\nconst EditableFormRow = Form.create()(EditableRow);\n\nclass EditableCell extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      editing: false\n    };\n\n    this.toggleEdit = () => {\n      const editing = !this.state.editing;\n      this.setState({\n        editing\n      }, () => {\n        if (editing) {\n          this.input.focus();\n        }\n      });\n    };\n\n    this.save = e => {\n      const _this$props = this.props,\n            record = _this$props.record,\n            handleSave = _this$props.handleSave;\n      this.form.validateFields((error, values) => {\n        if (error && error[e.currentTarget.id]) {\n          return;\n        }\n\n        this.toggleEdit();\n        handleSave(_objectSpread({}, record, {}, values));\n      });\n    };\n\n    this.renderCell = form => {\n      this.form = form;\n      const _this$props2 = this.props,\n            children = _this$props2.children,\n            dataIndex = _this$props2.dataIndex,\n            record = _this$props2.record,\n            title = _this$props2.title;\n      const editing = this.state.editing;\n      return editing ? React.createElement(Form.Item, {\n        style: {\n          margin: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, form.getFieldDecorator(dataIndex, {\n        rules: [{\n          required: true,\n          message: \"\".concat(title, \" is required.\")\n        }],\n        initialValue: record[dataIndex]\n      })(React.createElement(Input, {\n        ref: node => this.input = node,\n        onPressEnter: this.save,\n        onBlur: this.save,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }))) : React.createElement(\"div\", {\n        className: \"editable-cell-value-wrap\",\n        style: {\n          paddingRight: 24\n        },\n        onClick: this.toggleEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, children);\n    };\n  }\n\n  render() {\n    const _this$props3 = this.props,\n          editable = _this$props3.editable,\n          dataIndex = _this$props3.dataIndex,\n          title = _this$props3.title,\n          record = _this$props3.record,\n          index = _this$props3.index,\n          handleSave = _this$props3.handleSave,\n          children = _this$props3.children,\n          restProps = _objectWithoutProperties(_this$props3, [\"editable\", \"dataIndex\", \"title\", \"record\", \"index\", \"handleSave\", \"children\"]);\n\n    return React.createElement(\"td\", Object.assign({}, restProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), editable ? React.createElement(EditableContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.renderCell) : children);\n  }\n\n} //创建 添加类\n\n\nconst CollectionCreateForm = Form.create({\n  name: 'form_in_modal'\n})(class extends React.Component {\n  render() {\n    const _this$props4 = this.props,\n          visible = _this$props4.visible,\n          onCancel = _this$props4.onCancel,\n          onCreate = _this$props4.onCreate,\n          form = _this$props4.form;\n    const getFieldDecorator = form.getFieldDecorator;\n    return React.createElement(Modal, {\n      visible: visible,\n      title: \"\\u521B\\u5EFA\",\n      okText: \"\\u521B\\u5EFA\",\n      onCancel: onCancel,\n      onOk: onCreate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Form, {\n      layout: \"vertical\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u540D\\u79F0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, getFieldDecorator('who', {\n      rules: [{\n        required: true,\n        message: 'Please input the title of collection!'\n      }]\n    })(React.createElement(Input, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"\\u7C7B\\u578B\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, getFieldDecorator('type')(React.createElement(Input, {\n      type: \"textarea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"\\u7F51\\u5740\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, getFieldDecorator('url')(React.createElement(Input, {\n      type: \"textarea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"\\u5185\\u5BB9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, getFieldDecorator('desc')(React.createElement(Input, {\n      type: \"textarea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, getFieldDecorator('desc'))));\n  }\n\n});\n\nclass EditableTable extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDelete = _id => {\n      const dataSource = [...this.state.dataSource];\n      this.setState({\n        dataSource: dataSource.filter(item => item._id !== _id)\n      });\n    };\n\n    this.handleSave = row => {\n      const newData = [...this.state.dataSource];\n      const index = newData.findIndex(item => row.key === item.key);\n      const item = newData[index];\n      newData.splice(index, 1, _objectSpread({}, item, {}, row));\n      this.setState({\n        dataSource: newData\n      });\n    };\n\n    this.getColumnSearchProps = dataIndex => ({\n      filterDropdown: ({\n        setSelectedKeys,\n        selectedKeys,\n        confirm,\n        clearFilters\n      }) => React.createElement(\"div\", {\n        style: {\n          padding: 8\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(Input, {\n        ref: node => {\n          this.searchInput = node;\n        },\n        placeholder: \"Search \".concat(dataIndex),\n        value: selectedKeys[0],\n        onChange: e => setSelectedKeys(e.target.value ? [e.target.value] : []),\n        onPressEnter: () => this.handleSearch(selectedKeys, confirm, dataIndex),\n        style: {\n          width: 188,\n          marginBottom: 8,\n          display: 'block'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }), React.createElement(Button, {\n        type: \"primary\",\n        onClick: () => this.handleSearch(selectedKeys, confirm, dataIndex),\n        icon: \"search\",\n        size: \"small\",\n        style: {\n          width: 90,\n          marginRight: 8\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, \"Search\"), React.createElement(Button, {\n        onClick: () => this.handleReset(clearFilters),\n        size: \"small\",\n        style: {\n          width: 90\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, \"Reset\")),\n      filterIcon: filtered => React.createElement(Icon, {\n        type: \"search\",\n        style: {\n          color: filtered ? '#1890ff' : undefined\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }),\n      onFilter: (value, record) => record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()),\n      onFilterDropdownVisibleChange: visible => {\n        if (visible) {\n          setTimeout(() => this.searchInput.select());\n        }\n      },\n      render: text => this.state.searchedColumn === dataIndex ? React.createElement(Highlighter, {\n        highlightStyle: {\n          backgroundColor: '#ffc069',\n          padding: 0\n        },\n        searchWords: [this.state.searchText],\n        autoEscape: true,\n        textToHighlight: text.toString(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }) : text\n    });\n\n    this.handleSearch = (selectedKeys, confirm, dataIndex) => {\n      confirm();\n      this.setState({\n        searchText: selectedKeys[0],\n        searchedColumn: dataIndex\n      });\n    };\n\n    this.handleReset = clearFilters => {\n      clearFilters();\n      this.setState({\n        searchText: ''\n      });\n    };\n\n    this.handleCancel = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.handleCreate = () => {\n      const form = this.formRef.props.form;\n      const dataSource = this.state.dataSource;\n      form.validateFields((err, values) => {\n        if (err) {\n          return;\n        }\n\n        console.log(values);\n        dataSource.push(values);\n        form.resetFields();\n        this.setState({\n          dataSource: dataSource,\n          visible: false\n        });\n      });\n    };\n\n    this.showModal = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.saveFormRef = formRef => {\n      this.formRef = formRef;\n    };\n\n    this.columns = [_objectSpread({\n      title: '名称',\n      dataIndex: 'who',\n      width: '10%',\n      editable: true\n    }, this.getColumnSearchProps('who')), _objectSpread({\n      title: '类型',\n      dataIndex: 'type',\n      width: '10%',\n      editable: true\n    }, this.getColumnSearchProps('who')), _objectSpread({\n      title: '网址',\n      dataIndex: 'url',\n      width: '20%'\n    }, this.getColumnSearchProps('createdAt')), _objectSpread({\n      title: '创建时间',\n      width: '15%',\n      dataIndex: 'createdAt'\n    }, this.getColumnSearchProps('createdAt')), _objectSpread({\n      title: '发表时间',\n      width: '15%',\n      dataIndex: 'publishedAt'\n    }, this.getColumnSearchProps('publishedAt')), _objectSpread({\n      title: '内容',\n      width: '25%',\n      dataIndex: 'desc'\n    }, this.getColumnSearchProps('desc')), {\n      title: '删除',\n      width: '5%',\n      dataIndex: 'operation',\n      render: (text, record) => this.state.dataSource.length >= 1 ? React.createElement(Popconfirm, {\n        title: \"Sure to delete?\",\n        onConfirm: () => this.handleDelete(record._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"\\u5220\\u9664\")) : null\n    }];\n    this.state = {\n      dataSource: null,\n      count: 2,\n      loading: false,\n      visible: false\n    };\n    this.setSearchTopStories = this.setSearchTopStories.bind(this);\n    this.getColumnSearchProps = this.getColumnSearchProps.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleReset = this.handleReset.bind(this);\n    this.showModal = this.showModal.bind(this);\n    this.handleCreate = this.handleCreate.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.saveFormRef = this.saveFormRef.bind(this);\n  }\n\n  // 更新组件\n  setSearchTopStories(resule) {\n    let arr = [];\n    let data = resule.results;\n\n    for (let i in data) {\n      arr.push(data[i]);\n    }\n\n    let arr2 = [].concat.apply([], arr);\n    console.log(arr2);\n    let arr3 = [];\n\n    for (let i = 0; i < arr2.length; i++) {\n      arr3.push({\n        key: arr2[i]._id,\n        createdAt: arr2[i].createdAt,\n        desc: arr2[i].desc,\n        publishedAt: arr2[i].publishedAt,\n        who: arr2[i].who,\n        type: arr2[i].type,\n        url: arr2[i].url,\n        used: true\n      });\n    }\n\n    this.setState({\n      dataSource: arr3\n    });\n  }\n\n  //生命周期 加载后\n  componentDidMount() {\n    fetch('http://gank.io/api/today').then(resource => resource.json()).then(resule => this.setSearchTopStories(resule));\n  }\n\n  render() {\n    const _this$state = this.state,\n          dataSource = _this$state.dataSource,\n          loading = _this$state.loading,\n          visible = _this$state.visible;\n    const components = {\n      body: {\n        row: EditableFormRow,\n        cell: EditableCell\n      }\n    };\n    const columns = this.columns.map(col => {\n      if (!col.editable) {\n        return col;\n      }\n\n      return _objectSpread({}, col, {\n        onCell: record => ({\n          record,\n          editable: col.editable,\n          dataIndex: col.dataIndex,\n          title: col.title,\n          handleSave: this.handleSave\n        })\n      });\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }, dataSource ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      onClick: this.showModal,\n      style: {\n        marginLeft: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, \"\\u521B\\u5EFA\"), React.createElement(CollectionCreateForm, {\n      wrappedComponentRef: this.saveFormRef,\n      visible: this.state.visible,\n      onCancel: this.handleCancel,\n      onCreate: this.handleCreate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }), React.createElement(Table, {\n      components: components,\n      rowClassName: () => 'editable-row',\n      bordered: true,\n      dataSource: dataSource,\n      columns: columns,\n      rowKey: dataSource => dataSource._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    })) : React.createElement(Spin, {\n      style: {\n        marginLeft: '900px',\n        marginTop: '200px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass Mytable extends Component {\n  render() {\n    return React.createElement(EditableTable, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default Mytable;","map":{"version":3,"sources":["/home/rao/React/app/src/zhujian/Table.js"],"names":["React","Component","Table","Input","Button","Popconfirm","Form","Icon","Spin","Modal","Highlighter","EditableContext","createContext","EditableRow","form","index","props","EditableFormRow","create","EditableCell","state","editing","toggleEdit","setState","input","focus","save","e","record","handleSave","validateFields","error","values","currentTarget","id","renderCell","children","dataIndex","title","margin","getFieldDecorator","rules","required","message","initialValue","node","paddingRight","render","editable","restProps","CollectionCreateForm","name","visible","onCancel","onCreate","EditableTable","constructor","handleDelete","_id","dataSource","filter","item","row","newData","findIndex","key","splice","getColumnSearchProps","filterDropdown","setSelectedKeys","selectedKeys","confirm","clearFilters","padding","searchInput","target","value","handleSearch","width","marginBottom","display","marginRight","handleReset","filterIcon","filtered","color","undefined","onFilter","toString","toLowerCase","includes","onFilterDropdownVisibleChange","setTimeout","select","text","searchedColumn","backgroundColor","searchText","handleCancel","handleCreate","formRef","err","console","log","push","resetFields","showModal","saveFormRef","columns","length","count","loading","setSearchTopStories","bind","resule","arr","data","results","i","arr2","concat","apply","arr3","createdAt","desc","publishedAt","who","type","url","used","componentDidMount","fetch","then","resource","json","components","body","cell","map","col","onCell","marginLeft","marginTop","Mytable"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { Table, Input, Button, Popconfirm, Form, Icon, Spin, Modal} from 'antd';\nimport Highlighter from 'react-highlight-words';\nimport 'antd/dist/antd.css';\n\n\nconst EditableContext = React.createContext();\n\nconst EditableRow = ({ form, index, ...props }) => (\n  <EditableContext.Provider value={form}>\n    <tr {...props} />\n  </EditableContext.Provider>\n);\n\nconst EditableFormRow = Form.create()(EditableRow);\n\nclass EditableCell extends React.Component {\n  state = {\n      editing: false,\n  };\n\n  toggleEdit = () => {\n    const editing = !this.state.editing;\n    this.setState({ editing }, () => {\n      if (editing) {\n        this.input.focus();\n      }\n    });\n  };\n\n  save = e => {\n    const { record, handleSave } = this.props;\n    this.form.validateFields((error, values) => {\n      if (error && error[e.currentTarget.id]) {\n        return;\n      }\n      this.toggleEdit();\n      handleSave({ ...record, ...values });\n    });\n  };\n\n  renderCell = form => {\n    this.form = form;\n    const { children, dataIndex, record, title } = this.props;\n    const { editing } = this.state;\n    return editing ? (\n      <Form.Item style={{ margin: 0 }}>\n        {form.getFieldDecorator(dataIndex, {\n          rules: [\n            {\n              required: true,\n              message: `${title} is required.`,\n            },\n          ],\n          initialValue: record[dataIndex],\n        })(<Input ref={node => (this.input = node)} onPressEnter={this.save} onBlur={this.save} />)}\n      </Form.Item>\n    ) : (\n      <div\n        className=\"editable-cell-value-wrap\"\n        style={{ paddingRight: 24 }}\n        onClick={this.toggleEdit}\n      >\n        {children}\n      </div>\n    );\n  };\n\n  render() {\n    const {\n      editable,\n      dataIndex,\n      title,\n      record,\n      index,\n      handleSave,\n      children,\n      ...restProps\n    } = this.props;\n    return (\n      <td {...restProps}>\n        {editable ? (\n          <EditableContext.Consumer>{this.renderCell}</EditableContext.Consumer>\n        ) : (\n          children\n        )}\n      </td>\n    );\n  }\n}\n\n//创建 添加类\nconst CollectionCreateForm = Form.create({ name: 'form_in_modal' })(\n  class extends React.Component {\n    render() {\n      const { visible, onCancel, onCreate, form } = this.props;\n      const { getFieldDecorator } = form;\n      return (\n        <Modal \n          visible={visible}\n          title=\"创建\"\n          okText=\"创建\"\n          onCancel={onCancel}\n          onOk={onCreate}\n        >\n          <Form layout=\"vertical\">\n            <Form.Item label=\"名称\">\n              {getFieldDecorator('who', {\n                rules: [{ required: true, message: 'Please input the title of collection!' }],\n              })(<Input />)}\n            </Form.Item>\n            <Form.Item label=\"类型\">\n              {getFieldDecorator('type')(<Input type=\"textarea\" />)}\n            </Form.Item>\n            <Form.Item label=\"网址\">\n              {getFieldDecorator('url')(<Input type=\"textarea\" />)}\n            </Form.Item>\n            <Form.Item label=\"内容\">\n              {getFieldDecorator('desc')(<Input type=\"textarea\" />)}\n            </Form.Item>\n            <Form.Item label=''>\n              {getFieldDecorator('desc')}\n            </Form.Item>\n          </Form>\n        </Modal>\n      );\n    }\n  },\n);\n\nclass EditableTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.columns = [\n      {\n        title: '名称',\n        dataIndex: 'who',\n        width: '10%',\n        editable: true,\n        ...this.getColumnSearchProps('who'),\n      },\n      {\n        title: '类型',\n        dataIndex: 'type',\n        width: '10%',\n        editable: true,\n        ...this.getColumnSearchProps('who'),\n      },\n      {\n        title: '网址',\n        dataIndex: 'url',\n        width: '20%',\n        ...this.getColumnSearchProps('createdAt'),\n        \n      },\n      {\n        title: '创建时间',\n        width: '15%',\n        dataIndex: 'createdAt',\n        ...this.getColumnSearchProps('createdAt'),\n        \n      },\n      {\n        title: '发表时间',\n        width: '15%',\n        dataIndex: 'publishedAt',\n        ...this.getColumnSearchProps('publishedAt'),\n      },\n      {\n        title: '内容',\n        width: '25%',\n        dataIndex: 'desc',\n        ...this.getColumnSearchProps('desc'),\n      },\n      {\n        title: '删除',\n        width: '5%',\n        dataIndex: 'operation',\n        render: (text, record) =>\n          this.state.dataSource.length >= 1 ? (\n            <Popconfirm title=\"Sure to delete?\" onConfirm={() => this.handleDelete(record._id)}>\n              <a>删除</a>\n            </Popconfirm>\n          ) : null,\n      },\n    ];\n\n    this.state = {\n      dataSource: null,\n      count: 2,\n      loading: false,\n      visible: false,\n    };\n    this.setSearchTopStories = this.setSearchTopStories.bind(this);\n    this.getColumnSearchProps = this.getColumnSearchProps.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleReset = this.handleReset.bind(this);\n    this.showModal = this.showModal.bind(this);\n    this.handleCreate = this.handleCreate.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.saveFormRef = this.saveFormRef.bind(this);\n  }\n \n  handleDelete = _id => {\n    const dataSource = [...this.state.dataSource];\n    this.setState({ dataSource: dataSource.filter(item => item._id !== _id) });\n  };\n\n  handleSave = row => {\n    const newData = [...this.state.dataSource];\n    const index = newData.findIndex(item => row.key === item.key);\n    const item = newData[index];\n    newData.splice(index, 1, {\n      ...item,\n      ...row,\n    });\n    this.setState({ dataSource: newData });\n  };\n\n\n  getColumnSearchProps = dataIndex => ({\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\n      <div style={{ padding: 8 }}>\n        <Input\n          ref={node => {\n            this.searchInput = node;\n          }}\n          placeholder={`Search ${dataIndex}`}\n          value={selectedKeys[0]}\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\n        />\n        <Button\n          type=\"primary\"\n          onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\n          icon=\"search\"\n          size=\"small\"\n          style={{ width: 90, marginRight: 8 }}\n        >\n          Search\n        </Button>\n        <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\n          Reset\n        </Button>\n      </div>\n    ),\n    filterIcon: filtered => (\n      <Icon type=\"search\" style={{ color: filtered ? '#1890ff' : undefined }} />\n    ),\n    onFilter: (value, record) =>\n      record[dataIndex]\n        .toString()\n        .toLowerCase()\n        .includes(value.toLowerCase()),\n    onFilterDropdownVisibleChange: visible => {\n      if (visible) {\n        setTimeout(() => this.searchInput.select());\n      }\n    },\n    render: text => (\n    (this.state.searchedColumn === dataIndex) ?\n      <Highlighter\n        highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n        searchWords={[this.state.searchText]}\n        autoEscape\n        textToHighlight={text.toString()}\n      />\n      : text\n    ),\n  });\n\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\n    confirm();\n    this.setState({ \n      searchText: selectedKeys[0],\n      searchedColumn: dataIndex,\n      });\n  };\n\n  handleReset = clearFilters => {\n    clearFilters();\n    this.setState({ searchText: '' });\n  };\n\n  // 更新组件\n  setSearchTopStories(resule){\n    let arr = [];\n    let data = resule.results;\n    for(let i in data){\n      arr.push(data[i])\n    }\n    let arr2 = [].concat.apply([],arr);\n    console.log(arr2);\n    let arr3 = [];\n    for(let i=0; i<arr2.length; i++){\n      arr3.push({\n        key: arr2[i]._id,\n        createdAt: arr2[i].createdAt,\n        desc: arr2[i].desc,\n        publishedAt: arr2[i].publishedAt,\n        who: arr2[i].who,\n        type: arr2[i].type,\n        url: arr2[i].url,\n        used: true,\n      });\n    }\n\n    this.setState({dataSource: arr3});\n  };\n  //生命周期 加载后\n  componentDidMount(){\n    fetch('http://gank.io/api/today')\n    .then(resource=> resource.json())\n    .then(resule => this.setSearchTopStories(resule));\n  };\n\n  // 创建 添加方法\n  \n  handleCancel = () => {\n    this.setState({ visible: false });\n  };\n\n  handleCreate = () => {\n    const { form } = this.formRef.props;\n    const { dataSource} = this.state;\n    form.validateFields((err, values) => {\n      if (err) {\n        return;\n      }\n      console.log(values);\n      dataSource.push(values);\n      form.resetFields();\n      this.setState({ dataSource: dataSource, visible: false });\n    });\n  };\n  \n  showModal = () => {\n      this.setState({\n      visible: true,\n    });\n  };\n  saveFormRef = formRef => {\n    this.formRef = formRef;\n  };\n\n  render() {\n    const { dataSource,loading, visible } = this.state;\n    const components = {\n      body: {\n        row: EditableFormRow,\n        cell: EditableCell,\n      },\n    };\n    const columns = this.columns.map(col => {\n      if (!col.editable) {\n        return col;\n      }\n      return {\n        ...col,\n        onCell: record => ({\n          record,\n          editable: col.editable,\n          dataIndex: col.dataIndex,\n          title: col.title,\n          handleSave: this.handleSave,\n        }),\n      };\n    });\n    return (\n      <div>\n        {(dataSource)\n          ?<div>\n            <Button type=\"primary\" onClick={this.showModal} style={{marginLeft:10}}>\n              创建\n            </Button>\n            <CollectionCreateForm\n              wrappedComponentRef={this.saveFormRef}\n              visible={this.state.visible}\n              onCancel={this.handleCancel}\n              onCreate={this.handleCreate}\n            />\n              <Table\n                components={components}\n                rowClassName={() => 'editable-row'}\n                bordered\n                dataSource={dataSource}\n                columns={columns}\n                rowKey = {dataSource=>dataSource._id}\n              />\n            </div>\n          : <Spin style={{marginLeft:'900px',marginTop:'200px'}}/>\n        }\n      </div>\n    );\n  }\n}\nclass Mytable extends Component{\n  render(){\n    return <EditableTable />\n  }\n}\n\nexport default Mytable;"]},"metadata":{},"sourceType":"module"}